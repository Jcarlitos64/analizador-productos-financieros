<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herramienta de An√°lisis con IA - Productos Financieros</title>
    <link rel="stylesheet" href="css/estilo.css">
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #4895ef;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --warning: #f72585;
            --danger: #b5179e;
            --info: #7209b7;
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --gray: #6c757d;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-4: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --gradient-5: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: var(--gradient-1);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* Menu */
        .menu {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .menu h1 {
            color: var(--dark);
            font-size: 28px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .menu h1 span {
            background: var(--gradient-1);
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 16px;
        }
        
        .menu p {
            color: #666;
            font-size: 16px;
        }
        
        /* Grid principal */
        .grid-2 {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 20px;
        }
        
        /* Cards */
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .card h2 {
            color: var(--dark);
            margin-bottom: 20px;
            font-size: 22px;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card h3 {
            color: #555;
            margin: 15px 0 10px;
            font-size: 18px;
        }
        
        /* Input groups */
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        .input-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .input-row input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .input-row input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }
        
        .btn-buscar {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .btn-buscar:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }
        
        /* Botones de IA */
        .ia-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .btn-ia {
            padding: 12px 20px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            color: white;
            transition: all 0.3s;
            flex: 1 1 auto;
            min-width: 120px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .btn-ia:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        .btn-deepseek { background: #0d1117; }
        .btn-gemini { background: #1A73E8; }
        .btn-chatgpt { background: #10a37f; }
        .btn-claude { background: #7C3AED; }
        .btn-copiar { background: var(--primary); }
        .btn-success { background: var(--gradient-4); }
        .btn-info { background: var(--gradient-3); }
        .btn-warning { background: var(--gradient-5); }
        .btn-danger { background: var(--gradient-2); }
        
        /* Botones de an√°lisis */
        .categoria-analisis {
            margin-bottom: 25px;
        }
        
        .categoria-titulo {
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .botones-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .btn-analisis {
            padding: 14px 12px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            color: white;
            transition: all 0.3s;
            text-align: center;
            font-size: 14px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-analisis::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-analisis:hover::before {
            left: 100%;
        }
        
        .btn-analisis:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .btn-analisis.completo {
            background: var(--gradient-1);
            font-weight: bold;
            font-size: 16px;
            padding: 16px;
            grid-column: span 2;
        }
        
        /* Colores espec√≠ficos para cada bot√≥n de an√°lisis */
        .btn-analisis[data-tipo="1"] { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .btn-analisis[data-tipo="2"] { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .btn-analisis[data-tipo="3"] { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .btn-analisis[data-tipo="4"] { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .btn-analisis[data-tipo="5"] { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .btn-analisis[data-tipo="6"] { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #333; }
        .btn-analisis[data-tipo="7"] { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: #333; }
        .btn-analisis[data-tipo="8"] { background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%); color: #333; }
        .btn-analisis[data-tipo="9"] { background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%); color: #333; }
        .btn-analisis[data-tipo="10"] { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); color: #333; }
        .btn-analisis[data-tipo="11"] { background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%); color: #333; }
        
        /* √Årea de prompt */
        .prompt-area {
            background: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(67, 97, 238, 0.2);
        }
        
        .prompt-contenido {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            font-family: monospace;
            font-size: 14px;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }
        
        /* Pesta√±as */
        .tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
        }
        
        .tab {
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 50px 50px 0 0;
            background: #f0f0f0;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .tab.active {
            background: var(--primary);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Historial de respuestas - MEJORADO */
        .busqueda-historial {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .busqueda-historial input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .lista-respuestas {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .item-respuesta {
            background: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%);
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            transition: all 0.3s;
            position: relative;
        }
        
        .item-respuesta:hover {
            transform: translateX(5px);
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.1);
        }
        
        .item-respuesta .fecha {
            font-size: 12px;
            color: var(--gray);
        }
        
        .item-respuesta .isin {
            font-weight: bold;
            color: var(--primary);
            font-size: 16px;
            cursor: pointer;
        }
        
        .item-respuesta .isin:hover {
            text-decoration: underline;
        }
        
        .respuesta-acciones {
            display: flex;
            gap: 5px;
            margin-top: 10px;
            justify-content: flex-end;
        }
        
        .btn-accion {
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-accion.editar {
            background: var(--info);
            color: white;
        }
        
        .btn-accion.borrar {
            background: var(--danger);
            color: white;
        }
        
        .btn-accion.ver {
            background: var(--success);
            color: white;
        }
        
        .btn-accion:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .respuesta-detalle {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 500px;
            overflow-y: auto;
            border: 1px solid var(--primary);
        }
        
        .detalle-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }
        
        .detalle-acciones {
            display: flex;
            gap: 10px;
        }
        
        /* Modal de edici√≥n */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 25px;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-content h3 {
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .modal-content textarea {
            width: 100%;
            height: 400px;
            padding: 15px;
            font-family: monospace;
            font-size: 13px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .modal-acciones {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        /* Info box */
        .info-box {
            background: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);
            border-left: 4px solid var(--primary);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .info-box h4 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .info-box ol, .info-box ul {
            margin-left: 20px;
            line-height: 1.8;
        }
        
        /* Tabla de ayuda */
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }
        
        table tr {
            transition: background 0.3s;
        }
        
        table tr:hover {
            background: #f5f5f5;
        }
        
        table td {
            padding: 10px 8px;
            border-bottom: 1px solid #eee;
        }
        
        table td:first-child {
            font-weight: 700;
            color: var(--primary);
        }
        
        /* Badges */
        .badge {
            background: var(--primary);
            color: white;
            padding: 3px 10px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 600;
        }
        
        /* Contador de respuestas */
        .contador-respuestas {
            background: var(--success);
            color: white;
            padding: 2px 8px;
            border-radius: 50px;
            font-size: 12px;
            margin-left: 10px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .botones-grid {
                grid-template-columns: 1fr;
            }
            
            .btn-analisis.completo {
                grid-column: span 1;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                text-align: center;
                border-radius: 8px;
            }
            
            .input-row {
                flex-direction: column;
            }
            
            .btn-buscar {
                width: 100%;
            }
            
            .detalle-header {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Cabecera -->
        <div class="menu">
            <h1>
                ü§ñ HERRAMIENTA DE AN√ÅLISIS CON IA
                <span>v2.0</span>
            </h1>
            <p>Introduce un ISIN o Ticker y obt√©n an√°lisis especializados mediante inteligencia artificial. La IA identificar√° autom√°ticamente el tipo de producto (acci√≥n, fondo, ETF, renta fija...).</p>
        </div>

        <!-- Grid principal -->
        <div class="grid-2">
            <!-- Columna izquierda: Generador de prompts -->
            <div class="card">
                <h2>üîç GENERADOR DE PROMPTS</h2>
                
                <!-- ISIN / Ticker con bot√≥n de b√∫squeda integrado -->
                <div class="input-group">
                    <label>ISIN / Ticker del producto:</label>
                    <div class="input-row">
                        <input type="text" id="isin" placeholder="Ej: US01609W1027 (Alibaba) o IE00B53SZB19 (ETF)" autocomplete="off">
                        <button class="btn-buscar" onclick="buscarPorISIN()">üîç Buscar respuestas</button>
                    </div>
                    <p style="color:#666; font-size:12px; margin-top:5px;">El mismo ISIN sirve para generar prompts y buscar respuestas guardadas</p>
                </div>
                
                <!-- Pesta√±as -->
                <div class="tabs">
                    <div class="tab active" onclick="cambiarTab('generador')">üìù Generar Prompt</div>
                    <div class="tab" onclick="cambiarTab('historial')">üìö Respuestas guardadas</div>
                </div>
                
                <!-- Contenido: Generador -->
                <div id="tab-generador" class="tab-content active">
                    <!-- AN√ÅLISIS FUNDAMENTAL -->
                    <div class="categoria-analisis">
                        <div class="categoria-titulo">
                            <span style="font-size:24px;">üìà</span> AN√ÅLISIS FUNDAMENTAL
                        </div>
                        <div class="botones-grid">
                            <button class="btn-analisis" data-tipo="1" onclick="generarPrompt(1)">
                                <span>üìä</span> 1. Resultados empresariales
                            </button>
                            <button class="btn-analisis" data-tipo="2" onclick="generarPrompt(2)">
                                <span>üí∞</span> 2. ¬øEst√° barata?
                            </button>
                            <button class="btn-analisis" data-tipo="3" onclick="generarPrompt(3)">
                                <span>üè¶</span> 3. Evaluar deuda
                            </button>
                            <button class="btn-analisis" data-tipo="6" onclick="generarPrompt(6)">
                                <span>üîç</span> 4. ¬øInfravalorada?
                            </button>
                            <button class="btn-analisis" data-tipo="5" onclick="generarPrompt(5)">
                                <span>‚è∞</span> 5. ¬øBuen momento para invertir?
                            </button>
                            <button class="btn-analisis" data-tipo="11" onclick="generarPrompt(11)">
                                <span>‚ö†Ô∏è</span> 6. ¬øManipulaci√≥n EBITDA?
                            </button>
                            <button class="btn-analisis" data-tipo="7" onclick="generarPrompt(7)">
                                <span>üéØ</span> 7. Fair Value (gangas)
                            </button>
                            <button class="btn-analisis" data-tipo="8" onclick="generarPrompt(8)">
                                <span>üíµ</span> 8. ¬øM√°s caja que deuda?
                            </button>
                            <button class="btn-analisis" data-tipo="9" onclick="generarPrompt(9)">
                                <span>üìâ</span> 9. An√°lisis de EBITDA
                            </button>
                            <button class="btn-analisis" data-tipo="10" onclick="generarPrompt(10)">
                                <span>üìê</span> 10. An√°lisis de m√∫ltiplos
                            </button>
                        </div>
                    </div>
                    
                    <!-- RENTA FIJA Y MACRO -->
                    <div class="categoria-analisis">
                        <div class="categoria-titulo">
                            <span style="font-size:24px;">üìä</span> RENTA FIJA Y MACRO
                        </div>
                        <div class="botones-grid">
                            <button class="btn-analisis" data-tipo="4" onclick="generarPrompt(4)">
                                <span>üìâ</span> 11. Impacto bajada de tipos
                            </button>
                            <button class="btn-analisis" data-tipo="5" onclick="generarPrompt(5)">
                                <span>üåç</span> 12. Contexto macro
                            </button>
                        </div>
                    </div>
                    
                    <!-- Bot√≥n de an√°lisis completo -->
                    <button class="btn-analisis completo" onclick="generarPrompt(0)">
                        üéØ AN√ÅLISIS COMPLETO (todos los factores)
                    </button>
                    
                    <!-- √Årea de prompt generado -->
                    <div class="prompt-area">
                        <h3>üìã PROMPT GENERADO</h3>
                        <div id="promptGenerado" class="prompt-contenido">
                            Introduce un ISIN y haz clic en un bot√≥n de an√°lisis para generar el prompt.
                        </div>
                        
                        <!-- Botones de acci√≥n -->
                        <div class="ia-buttons">
                            <button class="btn-ia btn-copiar" onclick="copiarPrompt()">üìã COPIAR PROMPT</button>
                        </div>
                        
                        <p style="color:#666; font-size:13px; margin-top:10px; display: flex; align-items: center; gap:5px;">
                            <span class="badge">‚ö†Ô∏è</span> El prompt se copia manualmente. Luego abre la IA y p√©galo.
                        </p>
                    </div>
                    
                    <!-- Botones de IA -->
                    <h3>ü§ñ ABRIR IA</h3>
                    <div class="ia-buttons">
                        <button class="btn-ia btn-deepseek" onclick="abrirIA('deepseek')">üîÆ DeepSeek</button>
                        <button class="btn-ia btn-gemini" onclick="abrirIA('gemini')">üåÄ Gemini</button>
                        <button class="btn-ia btn-chatgpt" onclick="abrirIA('chatgpt')">ü§ñ ChatGPT</button>
                        <button class="btn-ia btn-claude" onclick="abrirIA('claude')">üåø Claude</button>
                    </div>
                </div>
                
                <!-- Contenido: Historial con edici√≥n y borrado -->
                <div id="tab-historial" class="tab-content">
                    <h3>üîé Buscar respuestas por ISIN</h3>
                    <div class="busqueda-historial">
                        <input type="text" id="buscarIsin" placeholder="Introduce ISIN...">
                        <button class="btn-ia btn-info" onclick="buscarRespuestas()">Buscar</button>
                    </div>
                    
                    <div id="listaRespuestas" class="lista-respuestas">
                        <p style="color:#666; text-align:center; padding:20px;">No hay respuestas guardadas. Realiza un an√°lisis y guarda la respuesta.</p>
                    </div>
                    
                    <div id="respuestaDetalle" class="respuesta-detalle" style="display:none;">
                        <div class="detalle-header">
                            <h4 id="detalleTitulo"></h4>
                            <div class="detalle-acciones">
                                <button class="btn-accion editar" onclick="editarRespuestaActual()">‚úèÔ∏è Editar</button>
                                <button class="btn-accion borrar" onclick="borrarRespuestaActual()">üóëÔ∏è Borrar</button>
                                <button class="btn-accion ver" onclick="cerrarDetalle()">Cerrar</button>
                            </div>
                        </div>
                        <div id="detalleContenido"></div>
                    </div>
                </div>
            </div>
            
            <!-- Columna derecha: Instrucciones y ayuda -->
            <div class="card">
                <h2>üìò GU√çA R√ÅPIDA</h2>
                
                <div class="info-box">
                    <h4>üéØ ¬øC√≥mo usar esta herramienta?</h4>
                    <ol>
                        <li><strong>Introduce el ISIN o Ticker</strong> del producto</li>
                        <li><strong>Selecciona el tipo de an√°lisis</strong> que necesitas</li>
                        <li><strong>Copia el prompt</strong> generado manualmente</li>
                        <li><strong>Abre la IA</strong> que prefieras</li>
                        <li><strong>Pega el prompt</strong> en la IA y ejecuta</li>
                        <li><strong>Copia la respuesta</strong> y gu√°rdala abajo</li>
                    </ol>
                </div>
                
                <div class="info-box" style="background:linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); border-left-color:#FF9800;">
                    <h4>ü§ñ La IA identificar√° autom√°ticamente:</h4>
                    <ul>
                        <li>Tipo de producto (Acci√≥n, Fondo, ETF, Renta Fija)</li>
                        <li>Sector y mercado</li>
                        <li>Divisa y pa√≠s</li>
                        <li>Todos los datos financieros relevantes</li>
                    </ul>
                </div>
                
                <div class="info-box" style="background:linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-left-color:#4CAF50;">
                    <h4>üìã Guardado de respuestas</h4>
                    <p>Despu√©s de obtener la respuesta de la IA, p√©gala aqu√≠ para guardarla asociada al ISIN actual.</p>
                    <div style="margin:15px 0;">
                        <textarea id="respuestaAGuardar" rows="4" style="width:100%; padding:12px; font-family:monospace; font-size:12px; border:2px solid #e0e0e0; border-radius:8px;" placeholder="Pega aqu√≠ la respuesta de la IA para guardarla..."></textarea>
                    </div>
                    <button class="btn-ia btn-success" onclick="guardarRespuesta()" style="width:100%;">üíæ GUARDAR RESPUESTA</button>
                </div>
                
                <div class="info-box" style="background:linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%); border-left-color:#f44336;">
                    <h4>üóëÔ∏è Gesti√≥n de respuestas</h4>
                    <p>En el historial puedes:</p>
                    <ul>
                        <li><strong>Ver</strong> el contenido completo</li>
                        <li><strong>Editar</strong> respuestas para a√±adir datos</li>
                        <li><strong>Borrar</strong> respuestas obsoletas</li>
                    </ul>
                </div>
                
                <h3>üìå TIPOS DE AN√ÅLISIS</h3>
                <table>
                    <tr><td>1. Resultados empresariales</td><td>Cifra negocio, EBITDA, BPA, crecimiento</td></tr>
                    <tr><td>2. ¬øEst√° barata?</td><td>PER, PEG, EV/EBITDA, valor relativo</td></tr>
                    <tr><td>3. Evaluar deuda</td><td>Caja vs deuda, Deuda/EBITDA, riesgo impago</td></tr>
                    <tr><td>4. Impacto bajada tipos</td><td>Duraci√≥n, convexidad, efecto en precio</td></tr>
                    <tr><td>5. ¬øBuen momento?</td><td>Ciclo, valoraci√≥n relativa, riesgos</td></tr>
                    <tr><td>6. ¬øInfravalorada?</td><td>Fair Value, consenso analistas, salud financiera</td></tr>
                    <tr><td>7. Fair Value (gangas)</td><td>Upside, confluencia modelos, margen seguridad</td></tr>
                    <tr><td>8. ¬øM√°s caja que deuda?</td><td>Balance, caja neta, solvencia</td></tr>
                    <tr><td>9. An√°lisis EBITDA</td><td>Capacidad pago deuda, tendencia</td></tr>
                    <tr><td>10. An√°lisis m√∫ltiplos</td><td>PER, EV/EBITDA, P/VC, valor relativo</td></tr>
                    <tr><td>11. ¬øManipulaci√≥n EBITDA?</td><td>Se√±ales de alarma, calidad del beneficio</td></tr>
                </table>
            </div>
        </div>
    </div>

    <!-- MODAL DE EDICI√ìN -->
    <div id="modalEdicion" class="modal">
        <div class="modal-content">
            <h3 id="modalTitulo">Editar respuesta</h3>
            <textarea id="modalContenido" placeholder="Edita el contenido de la respuesta..."></textarea>
            <div class="modal-acciones">
                <button class="btn-ia btn-success" onclick="guardarEdicion()">üíæ Guardar cambios</button>
                <button class="btn-ia btn-warning" onclick="cerrarModal()">Cancelar</button>
            </div>
        </div>
    </div>

    <script>
        // ==============================================
        // VARIABLES GLOBALES
        // ==============================================
        let respuestasGuardadas = JSON.parse(localStorage.getItem('respuestasAnalisis')) || [];
        let indiceActual = -1;
        
        // ==============================================
        // FUNCIONES DE INTERFAZ
        // ==============================================
        function cambiarTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            if (tab === 'generador') {
                document.querySelector('.tab').classList.add('active');
                document.getElementById('tab-generador').classList.add('active');
            } else {
                document.querySelectorAll('.tab')[1].classList.add('active');
                document.getElementById('tab-historial').classList.add('active');
                mostrarListaRespuestas();
            }
        }
        
        function abrirIA(tipo) {
            let urls = {
                'deepseek': 'https://chat.deepseek.com',
                'gemini': 'https://gemini.google.com',
                'chatgpt': 'https://chat.openai.com',
                'claude': 'https://claude.ai'
            };
            window.open(urls[tipo], '_blank');
        }
        
        function copiarPrompt() {
            let prompt = document.getElementById('promptGenerado').innerText;
            if (prompt.includes('Introduce un ISIN')) {
                alert('Primero genera un prompt con alg√∫n an√°lisis');
                return;
            }
            
            navigator.clipboard.writeText(prompt).then(() => {
                alert('‚úÖ Prompt copiado al portapapeles');
            }).catch(() => {
                alert('‚ùå No se pudo copiar');
            });
        }
        
        // ==============================================
        // FUNCI√ìN DE B√öSQUEDA POR ISIN (INTEGRADA)
        // ==============================================
        function buscarPorISIN() {
            let isin = document.getElementById('isin').value.trim();
            if (!isin) {
                alert('Introduce un ISIN en el campo principal');
                return;
            }
            
            // Cambiar a la pesta√±a de historial
            cambiarTab('historial');
            
            // Rellenar el campo de b√∫squeda
            document.getElementById('buscarIsin').value = isin;
            
            // Ejecutar b√∫squeda
            buscarRespuestas();
        }
        
        // ==============================================
        // FUNCIONES DE RESPUESTAS (CON EDICI√ìN Y BORRADO)
        // ==============================================
        function buscarRespuestas() {
            let isin = document.getElementById('buscarIsin').value.trim();
            if (!isin) {
                isin = document.getElementById('isin').value.trim();
                if (!isin) {
                    alert('Introduce un ISIN en el campo principal o en el buscador');
                    return;
                }
                document.getElementById('buscarIsin').value = isin;
            }
            
            let resultados = respuestasGuardadas.filter(r => 
                r.isin.toUpperCase().includes(isin.toUpperCase())
            );
            
            mostrarResultadosBusqueda(resultados, isin);
        }
        
        function mostrarResultadosBusqueda(resultados, isin) {
            let lista = document.getElementById('listaRespuestas');
            
            if (resultados.length === 0) {
                lista.innerHTML = `<p style="color:#666; text-align:center; padding:20px;">No hay respuestas guardadas para el ISIN: ${isin}</p>`;
                return;
            }
            
            let html = `<p style="margin-bottom:10px; color:var(--primary);">üìå ${resultados.length} respuesta(s) encontrada(s) para ${isin}</p>`;
            
            resultados.sort((a, b) => new Date(b.fecha + ' ' + b.hora) - new Date(a.fecha + ' ' + a.hora)).forEach((r, index) => {
                // Encontrar el √≠ndice real en el array global
                let indiceReal = respuestasGuardadas.findIndex(guardada => 
                    guardada.isin === r.isin && 
                    guardada.fecha === r.fecha && 
                    guardada.hora === r.hora
                );
                
                html += `
                    <div class="item-respuesta" id="respuesta-${indiceReal}">
                        <div class="isin" onclick="verRespuesta(${indiceReal})">${r.isin}</div>
                        <div class="fecha">${r.fecha} ${r.hora || ''}</div>
                        <div style="font-size:12px; color:#666; margin-bottom:10px;">${r.contenido.substring(0, 100)}...</div>
                        <div class="respuesta-acciones">
                            <button class="btn-accion ver" onclick="verRespuesta(${indiceReal})">üëÅÔ∏è Ver</button>
                            <button class="btn-accion editar" onclick="abrirModalEdicion(${indiceReal})">‚úèÔ∏è Editar</button>
                            <button class="btn-accion borrar" onclick="borrarRespuesta(${indiceReal})">üóëÔ∏è Borrar</button>
                        </div>
                    </div>
                `;
            });
            
            lista.innerHTML = html;
        }
        
        function verRespuesta(indice) {
            if (indice < 0 || indice >= respuestasGuardadas.length) return;
            
            let respuesta = respuestasGuardadas[indice];
            indiceActual = indice;
            
            document.getElementById('detalleTitulo').innerText = `${respuesta.isin} - ${respuesta.fecha} ${respuesta.hora || ''}`;
            document.getElementById('detalleContenido').innerText = respuesta.contenido;
            document.getElementById('respuestaDetalle').style.display = 'block';
        }
        
        function cerrarDetalle() {
            document.getElementById('respuestaDetalle').style.display = 'none';
            indiceActual = -1;
        }
        
        function abrirModalEdicion(indice) {
            if (indice < 0 || indice >= respuestasGuardadas.length) return;
            
            let respuesta = respuestasGuardadas[indice];
            indiceActual = indice;
            
            document.getElementById('modalTitulo').innerText = `Editando: ${respuesta.isin} - ${respuesta.fecha}`;
            document.getElementById('modalContenido').value = respuesta.contenido;
            document.getElementById('modalEdicion').style.display = 'flex';
        }
        
        function guardarEdicion() {
            if (indiceActual < 0 || indiceActual >= respuestasGuardadas.length) {
                alert('Error: No se ha seleccionado ninguna respuesta');
                cerrarModal();
                return;
            }
            
            let nuevoContenido = document.getElementById('modalContenido').value.trim();
            if (!nuevoContenido) {
                alert('El contenido no puede estar vac√≠o');
                return;
            }
            
            // Actualizar la respuesta
            respuestasGuardadas[indiceActual].contenido = nuevoContenido;
            respuestasGuardadas[indiceActual].editado = true;
            respuestasGuardadas[indiceActual].fechaEdicion = new Date().toLocaleDateString('es-ES');
            
            // Guardar en localStorage
            localStorage.setItem('respuestasAnalisis', JSON.stringify(respuestasGuardadas));
            
            // Cerrar modal
            cerrarModal();
            
            // Actualizar vistas
            if (document.getElementById('tab-historial').classList.contains('active')) {
                // Si estamos en historial, actualizar la b√∫squeda actual
                let isin = document.getElementById('buscarIsin').value.trim();
                if (isin) {
                    buscarRespuestas();
                } else {
                    mostrarListaRespuestas();
                }
            }
            
            // Si el detalle est√° abierto y es la misma respuesta, actualizarlo
            if (document.getElementById('respuestaDetalle').style.display === 'block' && indiceActual === indiceActual) {
                verRespuesta(indiceActual);
            }
            
            alert('‚úÖ Respuesta actualizada correctamente');
        }
        
        function borrarRespuesta(indice) {
            if (indice < 0 || indice >= respuestasGuardadas.length) return;
            
            if (!confirm('¬øEst√°s seguro de que quieres borrar esta respuesta? Esta acci√≥n no se puede deshacer.')) {
                return;
            }
            
            // Eliminar la respuesta
            respuestasGuardadas.splice(indice, 1);
            
            // Guardar en localStorage
            localStorage.setItem('respuestasAnalisis', JSON.stringify(respuestasGuardadas));
            
            // Actualizar vistas
            if (document.getElementById('tab-historial').classList.contains('active')) {
                let isin = document.getElementById('buscarIsin').value.trim();
                if (isin) {
                    buscarRespuestas();
                } else {
                    mostrarListaRespuestas();
                }
            }
            
            // Si el detalle estaba abierto y era la respuesta borrada, cerrarlo
            if (document.getElementById('respuestaDetalle').style.display === 'block' && indice === indiceActual) {
                cerrarDetalle();
            }
            
            alert('‚úÖ Respuesta borrada correctamente');
        }
        
        function borrarRespuestaActual() {
            if (indiceActual < 0 || indiceActual >= respuestasGuardadas.length) return;
            borrarRespuesta(indiceActual);
        }
        
        function editarRespuestaActual() {
            if (indiceActual < 0 || indiceActual >= respuestasGuardadas.length) return;
            abrirModalEdicion(indiceActual);
        }
        
        function cerrarModal() {
            document.getElementById('modalEdicion').style.display = 'none';
        }
        
        function mostrarListaRespuestas() {
            if (respuestasGuardadas.length === 0) {
                document.getElementById('listaRespuestas').innerHTML = '<p style="color:#666; text-align:center; padding:20px;">No hay respuestas guardadas. Realiza un an√°lisis y guarda la respuesta.</p>';
                return;
            }
            
            let ultimas = [...respuestasGuardadas].reverse().slice(0, 10);
            let html = '<p style="margin-bottom:10px; color:var(--primary);">üìå √öltimas 10 respuestas:</p>';
            
            ultimas.forEach((r, index) => {
                // Calcular el √≠ndice real en el array original
                let indiceReal = respuestasGuardadas.length - 1 - index;
                
                html += `
                    <div class="item-respuesta" id="respuesta-${indiceReal}">
                        <div class="isin" onclick="verRespuesta(${indiceReal})">${r.isin}</div>
                        <div class="fecha">${r.fecha} ${r.hora || ''}</div>
                        <div style="font-size:12px; color:#666; margin-bottom:10px;">${r.contenido.substring(0, 100)}...</div>
                        <div class="respuesta-acciones">
                            <button class="btn-accion ver" onclick="verRespuesta(${indiceReal})">üëÅÔ∏è Ver</button>
                            <button class="btn-accion editar" onclick="abrirModalEdicion(${indiceReal})">‚úèÔ∏è Editar</button>
                            <button class="btn-accion borrar" onclick="borrarRespuesta(${indiceReal})">üóëÔ∏è Borrar</button>
                        </div>
                    </div>
                `;
            });
            
            document.getElementById('listaRespuestas').innerHTML = html;
        }
        
        function guardarRespuesta() {
            let isin = document.getElementById('isin').value.trim();
            let respuesta = document.getElementById('respuestaAGuardar').value.trim();
            
            if (!isin) {
                alert('Primero introduce un ISIN en el campo principal');
                return;
            }
            
            if (!respuesta) {
                alert('Pega la respuesta de la IA en el √°rea de texto');
                return;
            }
            
            let nuevaRespuesta = {
                isin: isin.toUpperCase(),
                fecha: new Date().toLocaleDateString('es-ES'),
                hora: new Date().toLocaleTimeString('es-ES'),
                contenido: respuesta
            };
            
            respuestasGuardadas.push(nuevaRespuesta);
            localStorage.setItem('respuestasAnalisis', JSON.stringify(respuestasGuardadas));
            
            document.getElementById('respuestaAGuardar').value = '';
            alert('‚úÖ Respuesta guardada correctamente');
            
            if (document.getElementById('tab-historial').classList.contains('active')) {
                mostrarListaRespuestas();
            }
        }
        
        // ==============================================
        // GENERADORES DE PROMPTS (versi√≥n simplificada por espacio)
        // ==============================================
        function generarPrompt(numero) {
            let isin = document.getElementById('isin').value.trim();
            if (!isin) {
                alert('Por favor, introduce un ISIN o Ticker');
                return;
            }
            
            let prompt = '';
            let fecha = new Date().toLocaleDateString('es-ES');
            let hora = new Date().toLocaleTimeString('es-ES');
            
            // Cabecera com√∫n
            prompt = `üîç **AN√ÅLISIS DE PRODUCTO FINANCIERO**
Fecha: ${fecha} ${hora}
ISIN/Ticker: ${isin}

## INSTRUCCIONES GENERALES:
1. Identifica autom√°ticamente el tipo de producto
2. Busca toda la informaci√≥n financiera relevante
3. Proporciona los datos solicitados
4. Incluye valores num√©ricos con sus fuentes
5. Emite un veredicto claro

`;
            
            switch(numero) {
                case 0: // AN√ÅLISIS COMPLETO
                    prompt += `## üéØ AN√ÅLISIS COMPLETO

Realiza un an√°lisis exhaustivo que incluya:

### 1. IDENTIFICACI√ìN
- Tipo, nombre, ticker, ISIN, sector, pa√≠s

### 2. RESULTADOS
- Cifra negocio, EBITDA, BPA, FCF (√∫ltimos 5 a√±os)
- ¬øCrece? ¬øMejoran m√°rgenes?

### 3. VALORACI√ìN
- PER, PER Forward, EV/EBITDA, P/VC, P/Ventas
- Fair Value y upside potencial

### 4. DEUDA
- Deuda total, caja, Deuda/EBITDA
- ¬øM√°s caja que deuda?

### 5. RENTABILIDAD
- ROE, ROCE, m√°rgenes

### 6. CRECIMIENTO
- Crecimiento ingresos, BPA, EBITDA (1,3,5 a√±os)

### 7. RIESGO
- Beta, volatilidad, rating

### 8. ACCIONARIADO
- % insiders, % instituciones

### 9. MERCADO
- Rango 52 semanas, medias, consenso analistas

### 10. VEREDICTO
- COMPRAR/MANTENER/VENDER
- Precio objetivo, stop loss, estrategia
`;
                    break;
                    
                case 1: // Resultados empresariales
                    prompt += `## üìä AN√ÅLISIS DE RESULTADOS

Proporciona los siguientes datos (√∫ltimos 5 a√±os):
- Cifra de negocio (evoluci√≥n)
- EBITDA (evoluci√≥n)
- Resultado neto (evoluci√≥n)
- Flujo de caja operativo (evoluci√≥n)
- Capitalizaci√≥n burs√°til actual

AN√ÅLISIS:
- ¬øLos ingresos crecen a√±o a a√±o?
- ¬øEl EBITDA crece al mismo ritmo?
- ¬øEl beneficio neto es creciente?
- ¬øLa generaci√≥n de caja es positiva?

VEREDICTO SOBRE RESULTADOS:
- ¬øEmpresa rentable y generadora de caja?
- ¬øFase de crecimiento, madurez o declive?
`;
                    break;
                    
                case 2: // ¬øEst√° barata?
                    prompt += `## üí∞ AN√ÅLISIS DE VALORACI√ìN

Calcula y analiza:

RATIOS:
- PER actual vs hist√≥rico vs sector
- PER Forward
- EV/EBITDA actual vs hist√≥rico vs sector
- Precio/Valor Contable
- Precio/Ventas

SALUD FINANCIERA:
- ¬øM√°s caja que deuda?
- BPA y EBITDA ¬øcrecientes?

CONTEXTO:
- Fair Value y upside
- Precio objetivo analistas
- Rango 52 semanas
- Valor relativo vs competidores

VEREDICTO:
- ¬øBarata, en precio o cara?
- ¬øMargen de seguridad?
`;
                    break;
                    
                case 3: // Evaluar deuda
                    prompt += `## üè¶ AN√ÅLISIS DE DEUDA

M√âTRICAS:
- Deuda Total
- Caja y equivalentes
- Deuda Neta
- Deuda / EBITDA

AN√ÅLISIS:
- ¬øCaja > Deuda? (situaci√≥n ideal)
- ¬øCu√°ntos a√±os de EBITDA para pagar deuda?
  - <1 a√±o: Excelente
  - 1-2 a√±os: Aceptable
  - 2-3 a√±os: Preocupante
  - >3 a√±os: Alto riesgo

RIESGO:
- ¬øRiesgo de cr√©dito?
- ¬øCobertura de intereses?

IMPACTO EN DIVIDENDOS:
- ¬øLa deuda permite mantener/aumentar dividendo?

VEREDICTO:
- ¬øDeuda excesiva o controlada?
`;
                    break;
                    
                case 4: // Impacto bajada tipos
                    prompt += `## üìâ IMPACTO BAJADA DE TIPOS

PARA RENTA FIJA (si aplica):
- Duraci√≥n del producto
- Sensibilidad: si tipos bajan 1%, ¬øcu√°nto sube precio? (Duraci√≥n √ó 1%)
- ¬øTiene convexidad positiva?

EFECTO ESPERADO:
- ¬øMercado ya ha descontado bajadas?
- ¬øRiesgo si no se producen?

PARA RENTA VARIABLE:
- ¬øC√≥mo afecta al sector?
- ¬øBeneficios por menores costes financieros?

VEREDICTO:
- ¬øSe beneficiar√≠a significativamente?
- ¬øBuen momento para entrar?
`;
                    break;
                    
                case 5: // ¬øBuen momento?
                    prompt += `## ‚è∞ MOMENTO DE ENTRADA

CONTEXTO ACTUAL:
- Tipos de inter√©s: ¬øm√°ximos? ¬øse esperan bajadas?
- Valoraci√≥n relativa vs historia
- Sentimiento de mercado

PARA RENTA FIJA:
- Cupones atractivos hist√≥ricamente?
- Potencial plusval√≠as por bajada tipos
- Riesgo inflaci√≥n

PARA RENTA VARIABLE:
- PER hist√≥rico
- Momentum (tendencia)
- ¬øCorrecci√≥n saludable (15-20%)?

RIESGOS:
- Volatilidad, geopol√≠tica, inflaci√≥n

VEREDICTO:
- ¬øCOMPRAR, ESPERAR o VENDER?
- Horizonte recomendado
- Estrategia: compra √∫nica o DCA
`;
                    break;
                    
                case 6: // ¬øInfravalorada?
                    prompt += `## üîç ¬øINFRAVALORADA?

FAIR VALUE:
- Estimaci√≥n valor justo (m√∫ltiples modelos)
- Upside: (Fair Value - Precio)/Precio
- Rango de valoraci√≥n (m√≠nimo-m√°ximo)

CONSENSO ANALISTAS:
- Precio objetivo medio
- Rango de precios objetivo
- Recomendaciones (comprar/mantener/vender)

SALUD FINANCIERA:
- Puntuaci√≥n (1-5) en rentabilidad, crecimiento, flujo de caja
- ¬øChecks verdes? (m√°s caja que deuda, dividendo creciente)

VALOR RELATIVO:
- Comparaci√≥n con competidores

VEREDICTO:
- ¬øInfravalorada, en precio o sobrevalorada?
`;
                    break;
                    
                case 7: // Fair Value (gangas)
                    prompt += `## üéØ FAIR VALUE (GANGAS)

AN√ÅLISIS:
- Precio actual vs Fair Value promedio
- Diferencial (upside) significativo
- Confluencia de modelos (¬øcoinciden varios?)

CONTRASTE:
- Comparar con precio objetivo analistas
- ¬øCoinciden modelos num√©ricos y analistas?

VALIDACI√ìN:
- Salud financiera (puntuaci√≥n >4)
- Rango 52 semanas: ¬øen zona media/baja?
- Valor relativo vs competidores

VEREDICTO:
- ¬øEs una ganga?
- ¬øOfrece margen de seguridad?
- Recomendaci√≥n de compra
`;
                    break;
                    
                case 8: // ¬øM√°s caja que deuda?
                    prompt += `## üíµ AN√ÅLISIS CAJA VS DEUDA

BALANCE:
- Deuda Total: ¬øimporte?
- Caja y equivalentes: ¬øimporte?
- Deuda Neta: Deuda - Caja

COMPARACI√ìN DIRECTA:
- ¬øCaja > Deuda? (situaci√≥n magn√≠fica)
- Si Caja > Deuda: caja neta positiva

RATIOS:
- Deuda/EBITDA
- Cobertura de intereses

IMPORTANCIA:
- Empresa con caja neta puede:
  - Liquidar deuda inmediatamente
  - Mantener/aumentar dividendos
  - Afrontar crisis sin problemas

VEREDICTO:
- ¬øPosici√≥n de caja s√≥lida?
- ¬øEmpresa financieramente magn√≠fica?
`;
                    break;
                    
                case 9: // An√°lisis EBITDA
                    prompt += `## üìâ AN√ÅLISIS DE EBITDA

M√âTRICA:
- EBITDA actual y evoluci√≥n √∫ltimos 5 a√±os
- ¬øEBITDA creciente anual y trimestral?

RELACI√ìN CON DEUDA:
- Deuda / EBITDA = X a√±os
  - <1 a√±o: Excelente
  - 1-2 a√±os: Aceptable
  - 2-3 a√±os: Preocupante
  - >3 a√±os: Alto riesgo

CAPACIDAD DE PAGO:
- ¬øPuede pagar deuda con un a√±o de EBITDA?

VALORACI√ìN:
- EV/EBITDA actual
- Comparaci√≥n con hist√≥rico y sector

VEREDICTO:
- ¬øEBITDA s√≥lido y creciente?
- ¬øCapacidad de generar caja operativa?
`;
                    break;
                    
                case 10: // An√°lisis m√∫ltiplos
                    prompt += `## üìê AN√ÅLISIS DE M√öLTIPLOS

RATIOS CLAVE:

1. PER (Price to Earnings):
- Valor actual: X
- Normal: 18-20
- Caro: >25
- Comparaci√≥n hist√≥rica y sector

2. EV/EBITDA:
- Valor actual: X
- Atractivo: <10
- Muy barato: <8
- Penaliza la deuda

3. Precio/Valor Contable:
- Valor actual: X
- Cerca de 1: activos justifican precio
- Muy alto: sobrevalorado

4. Precio/Ventas:
- Valor actual: X
- Comparaci√≥n sector

CONSIDERACIONES:
- Valor relativo vs competidores
- Crecimiento: m√∫ltiplo bajo sin crecimiento no sirve
- Caja vs Deuda: preferible Market Cap > EV

VEREDICTO:
- M√∫ltiplos atractivos?
- ¬øEmpresa barata por m√∫ltiplos?
`;
                    break;
                    
                case 11: // ¬øManipulaci√≥n EBITDA?
                    prompt += `## ‚ö†Ô∏è ¬øMANIPULACI√ìN EBITDA?

SE√ëALES DE ALARMA:

1. Crecimiento EBITDA vs Flujo de Caja:
- ¬øEBITDA crece pero FCF no?
- Posible manipulaci√≥n por partidas no monetarias

2. Provisiones y ajustes:
- ¬øAumento de provisiones "extraordinarias"?
- ¬øCambios en pol√≠ticas contables?

3. Capitalizaci√≥n de gastos:
- ¬øGastos operativos capitalizados?
- Infla EBITDA artificialmente

4. Comparaci√≥n con competidores:
- ¬øMargen EBITDA muy superior sin justificaci√≥n?
- ¬øDiferencias insostenibles?

5. Deuda y cobertura:
- EBITDA alto pero deuda creciente
- ¬øPuede pagar intereses realmente?

AN√ÅLISIS DE CALIDAD:
- Conciliar EBITDA con FCF
- Revisar notas de estados financieros
- Buscar advertencias de auditor√≠a

VEREDICTO:
- ¬øEBITDA confiable o manipulado?
- ¬øCalidad del beneficio?
`;
                    break;
            }
            
            document.getElementById('promptGenerado').innerText = prompt;
        }
    </script>
</body>
</html>